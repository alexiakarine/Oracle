--CREATE DATABASE AULAS;

--USE AULAS;

CREATE TABLE TALUNO(
   COD_ALUNO INTEGER NOT NULL,
   NOME VARCHAR(30),
   CIDADE VARCHAR2(30),
   CEP VARCHAR(10),
   PRIMARY KEY (COD_ALUNO) 

);

 SELECT * FROM TALUNO;
 
 INSERT INTO TALUNO(COD_ALUNO, NOME, CIDADE, CEP)
 VALUES (1,'Alexia','SJC','12236555');
 
 INSERT INTO TALUNO(COD_ALUNO, NOME, CIDADE, CEP)
 VALUES (2,'Linda','SJC','12236558');
 
 INSERT INTO TALUNO(COD_ALUNO, NOME, CIDADE, CEP)
 VALUES(3,'Karine','Jacareí','11449780');
 
 CREATE TABLE TCURSO(
 COD_CURSO INTEGER NOT NULL PRIMARY KEY,
 NOME VARCHAR(30),
 VALOR NUMBER(8,2),
 CARGA_HORARIA INTEGER
 
 );
 
  SELECT * FROM TCURSO;
  
 INSERT INTO TCURSO VALUES (1,'ORACLE SQL',500,25);
 INSERT INTO TCURSO VALUES (2,'ORACLE PL/SQL',300,20);
 INSERT INTO TCURSO VALUES (3,'DATA ANALYTC',1000,50);
 INSERT INTO TCURSO VALUES (4,'PYTHON',450,63);
 
 CREATE TABLE TCONTRATO(
 COD_CONTRATO INTEGER NOT NULL PRIMARY KEY,
 DATA DATE,
 COD_ALUNO INTEGER,
 TOTAL NUMBER(8,2),
 DESCONTO NUMBER(5,2)
 
 );
 
 SELECT * FROM TCONTRATO;
 
 INSERT INTO TCONTRATO VALUES (1, SYSDATE, 1, 500, 10);  
 INSERT INTO TCONTRATO VALUES (2, SYSDATE, 2, 500, 10);  
 INSERT INTO TCONTRATO VALUES (3, SYSDATE, 3, 1500, 05);  
 INSERT INTO TCONTRATO VALUES (4, SYSDATE, 4, 1600, 10); 
 INSERT INTO TCONTRATO VALUES (5, SYSDATE-5, 4, 800, 10); 
INSERT INTO TCONTRATO VALUES (6, SYSDATE-3, 5, 1800, 10);

ALTER TABLE TCONTRATO ADD COL_TESTE VARCHAR(50);

SELECT * FROM TCONTRATO;

ALTER TABLE TCONTRATO DROP COLUMN COL_TESTE;

ALTER TABLE TALUNO RENAME COLUMN NOME TO NOME2;

SELECT * FROM TALUNO;

ALTER TABLE TALUNO RENAME COLUMN NOME2 TO NOME;

DROP TABLE TABELA; 

CREATE SEQUENCE SEQ_ALUNO START WITH 4;

INSERT INTO TALUNO(COD_ALUNO, NOME, CIDADE, CEP)
VALUES (SEQ_ALUNO.NEXTVAL,'TANJIRO','SHIBUYA','45454545');

INSERT INTO TALUNO(COD_ALUNO, NOME, CIDADE, CEP)
VALUES (SEQ_ALUNO.NEXTVAL,'ENITSU','SHIBUYA','98454545');

SELECT SYSDATE FROM DUAL;

SELECT SEQ_ALUNO.CURRVAL FROM DUAL;

COMMIT;

SELECT * FROM TALUNO;

DELETE FROM TALUNO;

ROlLBACK;

DELETE FROM TALUNO WHERE COD_ALUNO = 5;

SELECT * FROM TALUNO WHERE NOME = 'TANJIRO';

CREATE TABLE TITEM(
COD_ITEM INTEGER NOT NULL PRIMARY KEY,
COD_CURSO INTEGER,
COD_CONTRATO INTEGER,
VALOR NUMBER(8,2)

);

INSERT INTO TITEM VALUES(1,1,1,500);
INSERT INTO TITEM VALUES(2,1,2,500);
INSERT INTO TITEM VALUES(3,3,3,1500);
INSERT INTO TITEM VALUES(4,4,4,1600);
INSERT INTO TITEM VALUES(5,1,5,500);
INSERT INTO TITEM VALUES(6,1,6,500);
INSERT INTO TITEM VALUES(7,2,6,500);
INSERT INTO TITEM VALUES(8,3,7,500);

SELECT * FROM TITEM;

SELECT * FROM TCONTRATO WHERE COD_CONTRATO = 2;

UPDATE TCONTRATO SET 
DESCONTO = 10,
DATA = '05/06/2013',
TOTAL = 2500
WHERE COD_CONTRATO = 2;

SELECT * FROM TALUNO;

UPDATE TALUNO SET
CIDADE = 'Tokyo'
WHERE UPPER(CIDADE) = 'SJC';

UPDATE TALUNO SET
CIDADE = UPPER('Tokyo')
WHERE UPPER(CIDADE) = 'SHIBUYA';

UPDATE TALUNO SET
CIDADE = 'Tokyo'
WHERE UPPER(CIDADE) = 'SJC';

UPDATE TALUNO SET
NOME = 'Itadori'
WHERE COD_ALUNO = 2;


